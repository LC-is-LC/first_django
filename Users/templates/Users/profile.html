{% extends 'Infopart/base.html'%}
{% load crispy_forms_tags %}
{% block content%}
   <div class="content-section">
      <div class="media">
         <img class="rounded-circle account-img" src="{{ user.profile.image.url }}">
          <div class="media-body">
            <h2 class="account-heading">{{ user.username}}</h2>
            <p class="text-secondary">{{ user.email}}</p>
       </div>
  </div>
  <!-- so that our form can pass image data properly we have to add the encoding type; multipart/form-data Attribute to the form -->
  <form method="POST" enctype="multipart/form-data">
            <!-- this token must be kept in django forms, it is like security -->
            {% csrf_token %}
            <fieldset class = 'form-group'>
                <!-- field set tags is used to group related elements in a form  -->
                <legend class="border-bottom mb-4"> Profile Info </legend>
                <!-- putting the 2 forms to become as one in order to update our profile infos -->
                {{ u_form|crispy }}
                {{ p_form|crispy }}
            </fieldset>
            <div class="form-group">
                <!-- The form does not come with a submit button so we add -->
                <button class="btn btn-outline-info" type="submit">Update</button>
            </div>
        </form>
   </div>
{% endblock content%}